{% load static %}
<!-- BEGIN GLOBAL MANDATORY SCRIPTS -->
<script src="{% static 'dist/js/tabler.min.js' %}" defer></script>
<!-- END GLOBAL MANDATORY SCRIPTS -->
<!-- BEGIN DEMO SCRIPTS -->
<script src="{% static 'preview/js/demo.min.js' %}" defer></script>
<!-- END DEMO SCRIPTS -->
<!-- BEGIN PAGE SCRIPTS -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var themeConfig = {
            theme: "light",
            "theme-base": "gray",
            "theme-font": "sans-serif",
            "theme-primary": "blue",
            "theme-radius": "1",
        };
        var url = new URL(window.location);
        var form = document.getElementById("offcanvasSettings");
        var resetButton = document.getElementById("reset-changes");
        var checkItems = function () {
            for (var key in themeConfig) {
                var value = window.localStorage["tabler-" + key] || themeConfig[key];
                if (!!value) {
                    var radios = form.querySelectorAll(`[name="${key}"]`);
                    if (!!radios) {
                        radios.forEach((radio) => {
                            radio.checked = radio.value === value;
                        });
                    }
                }
            }
        };
        form.addEventListener("change", function (event) {
            var target = event.target,
                name = target.name,
                value = target.value;
            for (var key in themeConfig) {
                if (name === key) {
                    document.documentElement.setAttribute("data-bs-" + key, value);
                    window.localStorage.setItem("tabler-" + key, value);
                    url.searchParams.set(key, value);
                }
            }
            window.history.pushState({}, "", url);
        });
        resetButton.addEventListener("click", function () {
            for (var key in themeConfig) {
                var value = themeConfig[key];
                document.documentElement.removeAttribute("data-bs-" + key);
                window.localStorage.removeItem("tabler-" + key);
                url.searchParams.delete(key);
            }
            checkItems();
            window.history.pushState({}, "", url);
        });
        checkItems();
    });
</script>
<!-- END PAGE SCRIPTS -->
<!-- BEGIN ALERT -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                alert.classList.add('fade');
                alert.classList.remove('show');
                alert.addEventListener('transitionend', () => alert.remove());
            }, 4000);
        });
    });
</script>
<!-- END ALERT -->
<!-- BEGIN CTRL+K -->
<script>
    document.addEventListener('keydown', function (event) {
        if (event.ctrlKey && event.key === 'k') {
            event.preventDefault();
            document.getElementById('searchInput').focus();
        }
    });
</script>
<!-- END CTRL+K -->
<script>
window.addEventListener("load", function () {
    const loader = document.getElementById("fullpage-loader");
    loader.style.opacity = "0";
    loader.style.transition = "opacity 0.4s ease";

    setTimeout(() => {
        loader.style.display = "none";
    }, 400);
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const bars = document.querySelectorAll(".progress-bar");

    bars.forEach(bar => {
        const targetWidth = bar.getAttribute("data-width");

        bar.style.transition = "width 1.5s ease-in-out";
        bar.style.width = "0%";

        // Animation trigger
        setTimeout(() => {
            bar.style.width = targetWidth + "%";
        }, 200);
    });
});
</script>
